<div ng-controller="TasksCtrl">
<h1>To Do List</h1>
	<form class="form" role="form" ng-submit="createTask()">
		<div class="form-group new-item">
			<div style="width:80%">
				<div class="task-input">
					<input type="text" class="form-control" ng-model='newTask.title' placeholder="Enter a task" autofocus></input>
				</div>
			</div>
			<div class="task-button">
				<button class="btn btn-primary">Add</button>
			</div>
		</div>
	</form>
	<div ng-show="error">Error accessing tasks</div>

	<table class="table">
	
		<tbody>
			
			<tr ng-repeat="task in tasks" ng-class="{edit: task.editing}">
				<td class="checkbox-box">
					<input type='checkbox' 
						ng-model='task.completed' 
						ng-change='toggleTask(task)'>
				</td>
				<td class="task" ng-class="{completed: task.completed}">
					<label ng-dblclick="editTask(task)" 
						class="editable" 
						ng-hide="task.editing">{{task.title}}
					</label>
					<form class="add-item" ng-submit="doneEditing(task)" ng-show="task.editing">
						<input class="editable" ng-model="task.title" ng-blur="doneEditing(task)" ng-focus="task == editedTask">
					</form>
				</td>
				<td class="delete">
					<a href='' ng-model='task.destroy' ng-click='deleteTask(task)'>
						<span class=" remove glyphicon glyphicon-trash"></span>
					</a>
				</td>
			</tr>
		</tbody>
	</table>
</div>